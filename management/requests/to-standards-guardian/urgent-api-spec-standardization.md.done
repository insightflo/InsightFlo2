# ğŸš¨ ê¸´ê¸‰: API ìŠ¤í™ í‘œì¤€í™” ìš”ì²­

**ìš”ì²­ì**: PM  
**ìš°ì„ ìˆœìœ„**: CRITICAL  
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: ì¦‰ì‹œ ì²˜ë¦¬ í•„ìš”  
**ë°°ê²½**: Frontend-Backend ê°„ API ìŠ¤í™ ë¶ˆì¼ì¹˜ë¡œ ê°œë°œ ë¸”ë¡œì»¤ ë°œìƒ

## âš ï¸ ë¬¸ì œ ìƒí™©

### í˜„ì¬ ìƒíƒœ
- **`management/contracts/interfaces/api-spec.md`**: ë¶ˆì™„ì „í•œ ê¸°ë³¸ ìŠ¤í™ (2ê°œ ì—”ë“œí¬ì¸íŠ¸ë§Œ)
- **`backend/docs/api-spec.md`**: ì™„ì „í•œ ì‹¤ì œ êµ¬í˜„ ìŠ¤í™ (ì¸ì¦ + ë‰´ìŠ¤ API)
- **Frontend íŒ€**: ì–´ë–¤ ìŠ¤í™ì„ ê¸°ì¤€ìœ¼ë¡œ ê°œë°œí• ì§€ í˜¼ë€

### í•µì‹¬ ë¬¸ì œì 
âŒ **ëˆ„ë½ëœ APIë“¤** (contracts/interfacesì—ì„œ):
- `POST /api/auth/signup` (íšŒì›ê°€ì…)
- `GET /api/auth/profile` (í”„ë¡œí•„ ì¡°íšŒ)
- `POST /api/auth/refresh` (í† í° ê°±ì‹ )
- `GET /api/v1/news/personalized` (ê°œì¸í™” ë‰´ìŠ¤)
- `GET /api/v1/news/{id}` (ë‰´ìŠ¤ ìƒì„¸)
- `GET /api/v1/news/search` (ë‰´ìŠ¤ ê²€ìƒ‰)

âŒ **ëˆ„ë½ëœ ì •ì˜ë“¤**:
- News ë°ì´í„° íƒ€ì…
- ì—ëŸ¬ ì½”ë“œ í‘œì¤€
- í˜ì´ì§€ë„¤ì´ì…˜ ìŠ¤í™
- ë³´ì•ˆ ìš”êµ¬ì‚¬í•­

## ğŸ¯ ì¦‰ì‹œ ìš”ì²­ì‚¬í•­

### 1. `management/contracts/interfaces/api-spec.md` ì™„ì „ ì—…ë°ì´íŠ¸

ë‹¤ìŒ ì†ŒìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ ë¬¸ì„œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”:
- **ì°¸ê³ **: `backend/docs/api-spec.md` (ì™„ì „í•œ ìŠ¤í™)
- **ëª©í‘œ**: íŒ€ ê°„ í•©ì˜ëœ ë‹¨ì¼ ì§„ì‹¤ ì†ŒìŠ¤ ìƒì„±

### 2. í¬í•¨í•´ì•¼ í•  í•µì‹¬ ìš”ì†Œ

#### A. ì¸ì¦ API (ì™„ì „ ë²„ì „)
```yaml
auth:
  signup:
    method: POST
    path: /api/auth/signup
    request:
      body:
        email: string
        password: string
        nickname: string?
    response:
      201:
        body:
          success: true
          message: string
          user: UserObject
  
  signin:
    method: POST
    path: /api/auth/signin
    # ... (ê¸°ì¡´ loginê³¼ í†µí•©)
  
  profile:
    method: GET
    path: /api/auth/profile
    authentication: required
    response:
      200:
        body:
          success: true
          user: UserObject
```

#### B. ë‰´ìŠ¤ API
```yaml
news:
  personalized:
    method: GET
    path: /api/v1/news/personalized
    authentication: required
    query:
      page: number?
      limit: number?
      keywords: string?
    response:
      200:
        body:
          success: true
          data: NewsObject[]
          meta: PaginationMeta
  
  detail:
    method: GET
    path: /api/v1/news/{id}
    authentication: optional
    response:
      200:
        body:
          success: true
          data: NewsObject
  
  search:
    method: GET
    path: /api/v1/news/search
    authentication: optional
    query:
      query: string (required)
      page: number?
      limit: number?
      sentiment: string?
      dateFrom: string?
      dateTo: string?
    response:
      200:
        body:
          success: true
          data: NewsObject[]
          meta: PaginationMeta
```

#### C. ë°ì´í„° íƒ€ì… ì •ì˜
```yaml
types:
  UserObject:
    id: string
    email: string
    nickname: string?
    profileImageUrl: string?
    createdAt: datetime
    updatedAt: datetime
  
  NewsObject:
    id: string
    title: string
    content: string
    summary: string?
    sentiment: 'POSITIVE'|'NEGATIVE'|'NEUTRAL'
    keywords: string[]?
    publishedAt: datetime
    sourceUrl: string
    createdAt: datetime
    isBookmarked: boolean? (authenticated only)
    relevanceScore: number? (authenticated only)
  
  PaginationMeta:
    page: number
    limit: number
    total: number
    totalPages: number
```

#### D. ì—ëŸ¬ í‘œì¤€
```yaml
errors:
  standard_format:
    success: false
    error:
      code: string
      message: string
      details: object?
  
  codes:
    VALIDATION_ERROR: 400
    AUTHENTICATION_REQUIRED: 401
    INVALID_CREDENTIALS: 401
    ACCESS_DENIED: 403
    RESOURCE_NOT_FOUND: 404
    RESOURCE_ALREADY_EXISTS: 409
    RATE_LIMIT_EXCEEDED: 429
    INTERNAL_SERVER_ERROR: 500
    SERVICE_UNAVAILABLE: 503
```

### 3. ë³´ì•ˆ í‘œì¤€ (Guardian ì „ë¬¸ ì˜ì—­)
- JWT í† í° í‘œì¤€ (ë§Œë£Œì‹œê°„, ë¡œí…Œì´ì…˜)
- ë¹„ë°€ë²ˆí˜¸ ì •ì±…
- Rate Limiting ê¸°ì¤€
- HTTPS ìš”êµ¬ì‚¬í•­

## ğŸ“… íƒ€ì„ë¼ì¸

- **ì¦‰ì‹œ**: ì´ ìš”ì²­ ê²€í†  í›„ ì‘ì—… ì‹œì‘
- **ì˜¤ëŠ˜ ë‚´**: ì™„ë£Œëœ í‘œì¤€ ìŠ¤í™ `management/contracts/interfaces/` ì—…ë°ì´íŠ¸
- **ë‚´ì¼**: Frontend/Backend íŒ€ì— ì—…ë°ì´íŠ¸ ê³µì§€

## ğŸ”— ê´€ë ¨ íŒŒì¼ë“¤

**í˜„ì¬ ìƒíƒœ**:
- `management/contracts/interfaces/api-spec.md` (ì—…ë°ì´íŠ¸ í•„ìš”)
- `backend/docs/api-spec.md` (ì°¸ê³ ìš© ì™„ì „ ìŠ¤í™)

**ì—…ë°ì´íŠ¸ í›„**:
- `management/contracts/interfaces/api-spec.md` (ë‹¨ì¼ ì§„ì‹¤ ì†ŒìŠ¤)

## ğŸ“‹ ì™„ë£Œ ê¸°ì¤€

- [ ] ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ ì •ì˜ ì™„ë£Œ
- [ ] ë°ì´í„° íƒ€ì… ëª…ì„¸ ì™„ë£Œ
- [ ] ì—ëŸ¬ ì½”ë“œ í‘œì¤€ ì •ì˜ ì™„ë£Œ
- [ ] ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ëª…ì„¸ ì™„ë£Œ
- [ ] Frontend/Backend ì–‘ íŒ€ì´ ë™ì¼í•œ ìŠ¤í™ìœ¼ë¡œ ê°œë°œ ê°€ëŠ¥
- [ ] í–¥í›„ API ë³€ê²½ ì‹œ ì´ ë¬¸ì„œë¥¼ ë¨¼ì € ì—…ë°ì´íŠ¸í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ í™•ë¦½

## ğŸ’¡ ì¶”ê°€ ì œì•ˆ

ì™„ë£Œ í›„ ë‹¤ìŒ í”„ë¡œì„¸ìŠ¤ë„ ê²€í† í•´ì£¼ì„¸ìš”:
1. API ë³€ê²½ ì‹œ ì´ ë¬¸ì„œ ì„  ì—…ë°ì´íŠ¸ ê·œì¹™
2. Backend êµ¬í˜„ê³¼ í‘œì¤€ ìŠ¤í™ ê°„ ë™ê¸°í™” ë°©ë²•
3. Frontendì˜ ëª©ì—… ë°ì´í„° ê°€ì´ë“œë¼ì¸

---

**ìƒì„±ì¼**: 2025-01-08  
**ê¸´ê¸‰ë„**: CRITICAL - ë‹¤ë¥¸ íŒ€ ê°œë°œ ë¸”ë¡œí‚¹ ì¤‘  
**ì—°ë½ì²˜**: PM (ì¦‰ì‹œ ì‘ë‹µ í•„ìš”)