# Task 2: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° Supabase ì—°ë™ ìš”ì²­

**ìš”ì²­ì**: PM  
**ìš°ì„ ìˆœìœ„**: HIGH  
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2-3ì¼  
**Task Master ID**: 2

## ğŸ“‹ ì‘ì—… ê°œìš”
Supabase PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ì„¤ê³„í•˜ê³  Next.js ë°±ì—”ë“œì™€ì˜ ì—°ë™ì„ êµ¬ì„±í•´ì£¼ì„¸ìš”.

## ğŸ¯ êµ¬ì²´ì  ìš”êµ¬ì‚¬í•­

### 1. ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì„¤ê³„
ë‹¤ìŒ í…Œì´ë¸”ë“¤ì„ ì„¤ê³„í•˜ê³  ìƒì„±í•´ì£¼ì„¸ìš”:

#### `users` í…Œì´ë¸”
- `id` (UUID, Primary Key)
- `email` (VARCHAR, UNIQUE, NOT NULL)
- `password_hash` (VARCHAR, NOT NULL)
- `nickname` (VARCHAR)
- `created_at` (TIMESTAMP, DEFAULT NOW())

#### `news` í…Œì´ë¸”
- `id` (UUID, Primary Key)
- `title` (VARCHAR, NOT NULL)
- `content` (TEXT)
- `summary` (TEXT)
- `sentiment` (VARCHAR) - ê°ì • ë¶„ì„ ê²°ê³¼
- `keywords` (TEXT[]) - í‚¤ì›Œë“œ ë°°ì—´
- `published_at` (TIMESTAMP)
- `created_at` (TIMESTAMP, DEFAULT NOW())

#### `user_keywords` í…Œì´ë¸”
- `id` (UUID, Primary Key)
- `user_id` (UUID, Foreign Key â†’ users.id)
- `keyword` (VARCHAR, NOT NULL)
- `weight` (INTEGER, DEFAULT 1) - ê´€ì‹¬ë„ ê°€ì¤‘ì¹˜
- `created_at` (TIMESTAMP, DEFAULT NOW())

#### `bookmarks` í…Œì´ë¸”
- `id` (UUID, Primary Key)
- `user_id` (UUID, Foreign Key â†’ users.id)
- `news_id` (UUID, Foreign Key â†’ news.id)
- `created_at` (TIMESTAMP, DEFAULT NOW())

### 2. Supabase í”„ë¡œì íŠ¸ ì„¤ì •
- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] RLS (Row Level Security) ì •ì±… ì„¤ì •
  - users: ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼ ê°€ëŠ¥
  - user_keywords: ë³¸ì¸ í‚¤ì›Œë“œë§Œ CRUD ê°€ëŠ¥
  - bookmarks: ë³¸ì¸ ë¶ë§ˆí¬ë§Œ CRUD ê°€ëŠ¥
  - news: ëª¨ë“  ì‚¬ìš©ì READ ê°€ëŠ¥

### 3. Next.js ì—°ë™ êµ¬ì„±
- [ ] `@supabase/supabase-js` íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì • íŒŒì¼ ìƒì„± (`lib/supabase.ts`)
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì • (`.env.local`)
  - `NEXT_PUBLIC_SUPABASE_URL`
  - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
  - `SUPABASE_SERVICE_ROLE_KEY`

### 4. ê¸°ë³¸ ì—°ê²° í…ŒìŠ¤íŠ¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
- [ ] ê¸°ë³¸ CRUD ì‘ì—… í…ŒìŠ¤íŠ¸
- [ ] RLS ì •ì±… ë™ì‘ ê²€ì¦

## ğŸ“š ì°¸ê³  ìë£Œ
- [Supabase ê³µì‹ ë¬¸ì„œ](https://supabase.com/docs)
- [Next.js with Supabase ê°€ì´ë“œ](https://supabase.com/docs/guides/getting-started/quickstarts/nextjs)

## ğŸ”— ì˜ì¡´ì„±
- Task 1 (í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •) ì™„ë£Œë¨ âœ…

## ğŸ“‹ ì™„ë£Œ ê¸°ì¤€
- [ ] ëª¨ë“  í…Œì´ë¸”ì´ Supabaseì— ìƒì„±ë¨
- [ ] RLS ì •ì±…ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë¨
- [ ] Next.jsì—ì„œ Supabase í´ë¼ì´ì–¸íŠ¸ê°€ ì •ìƒ ë™ì‘í•¨
- [ ] ê¸°ë³¸ CRUD í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•¨

## ğŸ“ ê²°ê³¼ë¬¼
ì™„ë£Œ í›„ ë‹¤ìŒì„ `.claude/contracts/interfaces/`ì— ë¬¸ì„œí™”í•´ì£¼ì„¸ìš”:
- ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì •ì˜ì„œ
- API ì—°ê²° ì„¤ì • ê°€ì´ë“œ
- í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¦¬í¬íŠ¸

## ğŸ’¬ ì§ˆë¬¸ì´ë‚˜ ë¸”ë¡œì»¤ê°€ ìˆë‹¤ë©´
`.claude/responses/`ì— ì‘ë‹µ íŒŒì¼ì„ ìƒì„±í•˜ê±°ë‚˜ PMì—ê²Œ ì§ì ‘ ë¬¸ì˜í•´ì£¼ì„¸ìš”.

---
**ìƒì„±ì¼**: 2025-01-08  
**ìƒíƒœ**: ìš”ì²­ë¨  